<!-- Modern Professional Header -->
<header class="modern-header" id="mainHeader">
    <div class="header-container">
        <!-- Logo Section -->
        <div class="logo-section">
            <a href="../index.html" class="logo-link" aria-label="LA BASICA - Inicio">
                <img src="../images/LOGO.png" alt="LA BASICA Logo" class="logo-image" loading="eager" decoding="async">
            </a>
        </div>
        
        <!-- Desktop Navigation -->
        <nav class="desktop-nav" role="navigation" aria-label="Navegación principal">
            <ul class="nav-list">
                <li class="nav-item"><a href="../index.html" class="nav-link" data-page="home">Inicio</a></li>
                <li class="nav-item"><a href="../pages/nosotros.html" class="nav-link" data-page="nosotros">Nosotros</a></li>
                <li class="nav-item"><a href="../pages/productos.html" class="nav-link" data-page="productos">Productos</a></li>
                <li class="nav-item"><a href="../pages/contacto.html" class="nav-link" data-page="contacto">Contacto</a></li>
            </ul>
        </nav>
        
        <!-- Header Actions -->
        <div class="header-actions">
            <!-- Unified User Profile System -->
            <div class="user-profile-system" id="userProfileSystem">
                <!-- Not Authenticated State -->
                <button class="action-btn profile-btn unauthenticated" id="profileBtnUnauth" aria-label="Iniciar Sesión">
                    <i class="fas fa-user-circle" aria-hidden="true"></i>
                </button>

                <!-- Authenticated State -->
                <div class="user-profile-authenticated" id="userProfileAuth" style="display: none;">
                    <button class="action-btn profile-btn authenticated" id="profileBtnAuth" aria-label="Mi Perfil">
                        <div class="user-avatar-container">
                            <img src="" alt="Avatar" class="user-avatar" id="userAvatar" style="display: none;">
                            <i class="fas fa-user-circle user-default-icon" aria-hidden="true" id="defaultAvatar"></i>
                        </div>
                        <div class="user-info">
                            <span class="user-name" id="userNameHeader">Usuario</span>
                            <span class="user-role" id="userRoleHeader">Cliente</span>
                        </div>
                        <i class="fas fa-chevron-down dropdown-arrow" aria-hidden="true"></i>
                    </button>

                    <!-- Dropdown Menu -->
                    <div class="profile-dropdown-menu" id="profileDropdownMenu">
                        <div class="dropdown-header">
                            <div class="dropdown-user-info">
                                <div class="dropdown-avatar-container">
                                    <img src="" alt="Avatar" class="dropdown-avatar" id="dropdownAvatar" style="display: none;">
                                    <i class="fas fa-user-circle dropdown-default-avatar" id="dropdownDefaultAvatar"></i>
                                </div>
                                <div class="dropdown-user-details">
                                    <span class="dropdown-user-name" id="dropdownUserName">Usuario</span>
                                    <span class="dropdown-user-email" id="dropdownUserEmail">email@ejemplo.com</span>
                                    <span class="dropdown-user-role" id="dropdownUserRole">Cliente</span>
                                </div>
                            </div>
                        </div>

                        <div class="dropdown-divider"></div>

                        <div class="dropdown-menu-items" id="dropdownMenuItems">
                            <!-- Items se generan dinámicamente según el tipo de usuario -->
                        </div>

                        <div class="dropdown-divider"></div>

                        <div class="dropdown-footer">
                            <button class="dropdown-item logout-item" id="logoutBtn">
                                <i class="fas fa-sign-out-alt" aria-hidden="true"></i>
                                <span>Cerrar Sesión</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Shopping Cart -->
            <button class="action-btn cart-btn" aria-label="Carrito de compras" id="cartToggle">
                <i class="fas fa-shopping-bag" aria-hidden="true"></i>
                <span class="cart-badge" id="cartBadge">0</span>
            </button>
            
            <!-- Menu Toggle -->
            <button class="action-btn menu-toggle" id="menuToggle" aria-label="Abrir menú de navegación" aria-expanded="false">
                <span class="hamburger-line hamburger-line-1"></span>
                <span class="hamburger-line hamburger-line-2"></span>
                <span class="hamburger-line hamburger-line-3"></span>
                <span class="sr-only">Menú</span>
            </button>
        </div>
    </div>
</header>

<!-- Mobile Navigation Overlay -->
<div class="mobile-nav-overlay" id="mobileNavOverlay" aria-hidden="true"></div>

<!-- Mobile Navigation Menu -->
<nav class="mobile-nav" id="mobileNav" role="navigation" aria-label="Menú móvil">
    <div class="mobile-nav-header">
        <div class="mobile-logo">
            <img src="../images/LOGO.png" alt="LA BASICA" class="mobile-logo-image">
        </div>
        <button class="mobile-nav-close" id="mobileNavClose" aria-label="Cerrar menú">
            <i class="fas fa-times" aria-hidden="true"></i>
        </button>
    </div>
    
    <div class="mobile-nav-content">
        <ul class="mobile-nav-list">
            <li class="mobile-nav-item">
                <a href="../index.html" class="mobile-nav-link" data-page="home">
                    <i class="fas fa-home mobile-nav-icon" aria-hidden="true"></i>
                    <span>Inicio</span>
                </a>
            </li>
            <li class="mobile-nav-item">
                <a href="../pages/nosotros.html" class="mobile-nav-link" data-page="nosotros">
                    <i class="fas fa-users mobile-nav-icon" aria-hidden="true"></i>
                    <span>Nosotros</span>
                </a>
            </li>
            <li class="mobile-nav-item">
                <a href="../pages/productos.html" class="mobile-nav-link" data-page="productos">
                    <i class="fas fa-shopping-bag mobile-nav-icon" aria-hidden="true"></i>
                    <span>Productos</span>
                </a>
            </li>
            <!-- Mobile Profile - Unauthenticated -->
            <li class="mobile-nav-item mobile-login-item" id="mobileLoginItem" style="display: block;">
                <button class="mobile-nav-link login-link" id="mobileLoginBtn">
                    <i class="fas fa-sign-in-alt mobile-nav-icon" aria-hidden="true"></i>
                    <span>Iniciar Sesión</span>
                </button>
            </li>

            <!-- Mobile Profile - Authenticated -->
            <li class="mobile-nav-item mobile-profile-item" id="mobileProfileItem" style="display: none;">
                <button class="mobile-nav-link" id="mobileProfileBtn">
                    <i class="fas fa-user-circle mobile-nav-icon" aria-hidden="true"></i>
                    <span>Mi Perfil</span>
                </button>
            </li>
            <li class="mobile-nav-item">
                <a href="../pages/contacto.html" class="mobile-nav-link" data-page="contacto">
                    <i class="fas fa-envelope mobile-nav-icon" aria-hidden="true"></i>
                    <span>Contacto</span>
                </a>
            </li>
        </ul>
        
        <div class="mobile-nav-actions">
            <button class="mobile-action-btn cart-mobile-btn">
                <i class="fas fa-shopping-bag" aria-hidden="true"></i>
                <span>Ver Carrito</span>
                <span class="mobile-cart-badge">0</span>
            </button>

            <!-- Mobile Logout Button -->
            <button class="mobile-action-btn mobile-logout-btn" id="mobileLogoutBtn" style="display: none;">
                <i class="fas fa-sign-out-alt" aria-hidden="true"></i>
                <span>Cerrar Sesión</span>
            </button>
        </div>
        
        <div class="mobile-social-links">
            <a href="#" class="mobile-social-link" aria-label="Instagram" target="_blank" rel="noopener">
                <i class="fab fa-instagram" aria-hidden="true"></i>
            </a>
            <a href="#" class="mobile-social-link" aria-label="WhatsApp" target="_blank" rel="noopener">
                <i class="fab fa-whatsapp" aria-hidden="true"></i>
            </a>
            <a href="#" class="mobile-social-link" aria-label="Facebook" target="_blank" rel="noopener">
                <i class="fab fa-facebook" aria-hidden="true"></i>
            </a>
        </div>
    </div>
</nav>

<!-- Shopping Cart Overlay -->
<div class="cart-overlay" id="cartOverlay" aria-hidden="true"></div>

<!-- Shopping Cart Panel -->
<aside class="shopping-cart" id="shoppingCart" role="dialog" aria-label="Carrito de compras" aria-hidden="true">
    <div class="cart-header">
        <div class="cart-logo">
            <i class="fas fa-shopping-bag cart-logo-icon" aria-hidden="true"></i>
            <span class="cart-title">Mi Carrito</span>
        </div>
        <button class="cart-close" id="cartClose" aria-label="Cerrar carrito">
            <i class="fas fa-times" aria-hidden="true"></i>
        </button>
    </div>
    
    <div class="cart-content">
        <!-- Empty Cart State -->
        <div class="cart-empty" id="cartEmpty">
            <div class="empty-cart-icon">
                <i class="fas fa-shopping-bag" aria-hidden="true"></i>
            </div>
            <h3 class="empty-cart-title">Tu carrito está vacío</h3>
            <p class="empty-cart-text">Agrega productos para comenzar tu pedido</p>
            <a href="../pages/productos.html" class="empty-cart-btn">
                <i class="fas fa-shopping-bag" aria-hidden="true"></i>
                Ver Productos
            </a>
        </div>
        
        <!-- Cart Items List -->
        <div class="cart-items" id="cartItems" style="display: none;">
            <div class="cart-items-list" id="cartItemsList">
                <!-- Cart items will be dynamically inserted here -->
            </div>
        </div>
    </div>
    
    <!-- Cart Footer -->
    <div class="cart-footer" id="cartFooter" style="display: none;">
        <div class="cart-summary">
            <div class="summary-row">
                <span class="summary-label">Subtotal:</span>
                <span class="summary-value" id="cartSubtotal">$0</span>
            </div>
            <div class="summary-row">
                <span class="summary-label">Envío:</span>
                <span class="summary-value" id="cartShipping">Gratis</span>
            </div>
            <div class="summary-row total-row">
                <span class="summary-label">Total:</span>
                <span class="summary-value" id="cartTotal">$0</span>
            </div>
        </div>
        
        <div class="cart-actions">
            <button class="cart-action-btn secondary-btn" id="clearCart">
                <i class="fas fa-trash-alt" aria-hidden="true"></i>
                Vaciar Carrito
            </button>
            <button class="cart-action-btn primary-btn" id="proceedCheckout">
                <i class="fas fa-credit-card" aria-hidden="true"></i>
                Finalizar Compra
            </button>
        </div>
        
        <div class="cart-footer-note">
            <i class="fas fa-info-circle" aria-hidden="true"></i>
            <span>Envío gratis en compras mayores a $2,000</span>
        </div>
    </div>
</aside>

<!-- Auth Modal Include -->
<div id="authModalContainer"></div>